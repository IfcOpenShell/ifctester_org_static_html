var xt=Object.defineProperty;var Et=(Y,H,V)=>H in Y?xt(Y,H,{enumerable:!0,configurable:!0,writable:!0,value:V}):Y[H]=V;var z=(Y,H,V)=>Et(Y,typeof H!="symbol"?H+"":H,V);(function(){"use strict";function Y(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function H(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var c=n.default;if(typeof c=="function"){var t=function o(){return this instanceof o?Reflect.construct(c,arguments,this.constructor):c.apply(this,arguments)};t.prototype=c.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var u=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(t,o,u.get?u:{enumerable:!0,get:function(){return n[o]}})}),t}var V={exports:{}},Z,re=new Uint8Array(16);function Er(){if(!Z&&(Z=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Z))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Z(re)}var ee=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Q(n){return typeof n=="string"&&ee.test(n)}for(var R=[],sr=0;sr<256;++sr)R.push((sr+256).toString(16).substr(1));function rr(n){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(R[n[c+0]]+R[n[c+1]]+R[n[c+2]]+R[n[c+3]]+"-"+R[n[c+4]]+R[n[c+5]]+"-"+R[n[c+6]]+R[n[c+7]]+"-"+R[n[c+8]]+R[n[c+9]]+"-"+R[n[c+10]]+R[n[c+11]]+R[n[c+12]]+R[n[c+13]]+R[n[c+14]]+R[n[c+15]]).toLowerCase();if(!Q(t))throw TypeError("Stringified UUID is invalid");return t}var Ar,ur,cr=0,fr=0;function te(n,c,t){var o=c&&t||0,u=c||new Array(16);n=n||{};var f=n.node||Ar,l=n.clockseq!==void 0?n.clockseq:ur;if(f==null||l==null){var s=n.random||(n.rng||Er)();f==null&&(f=Ar=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),l==null&&(l=ur=(s[6]<<8|s[7])&16383)}var h=n.msecs!==void 0?n.msecs:Date.now(),m=n.nsecs!==void 0?n.nsecs:fr+1,g=h-cr+(m-fr)/1e4;if(g<0&&n.clockseq===void 0&&(l=l+1&16383),(g<0||h>cr)&&n.nsecs===void 0&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");cr=h,fr=m,ur=l,h+=122192928e5;var x=((h&268435455)*1e4+m)%4294967296;u[o++]=x>>>24&255,u[o++]=x>>>16&255,u[o++]=x>>>8&255,u[o++]=x&255;var _=h/4294967296*1e4&268435455;u[o++]=_>>>8&255,u[o++]=_&255,u[o++]=_>>>24&15|16,u[o++]=_>>>16&255,u[o++]=l>>>8|128,u[o++]=l&255;for(var d=0;d<6;++d)u[o+d]=f[d];return c||rr(u)}function _r(n){if(!Q(n))throw TypeError("Invalid UUID");var c,t=new Uint8Array(16);return t[0]=(c=parseInt(n.slice(0,8),16))>>>24,t[1]=c>>>16&255,t[2]=c>>>8&255,t[3]=c&255,t[4]=(c=parseInt(n.slice(9,13),16))>>>8,t[5]=c&255,t[6]=(c=parseInt(n.slice(14,18),16))>>>8,t[7]=c&255,t[8]=(c=parseInt(n.slice(19,23),16))>>>8,t[9]=c&255,t[10]=(c=parseInt(n.slice(24,36),16))/1099511627776&255,t[11]=c/4294967296&255,t[12]=c>>>24&255,t[13]=c>>>16&255,t[14]=c>>>8&255,t[15]=c&255,t}function ne(n){n=unescape(encodeURIComponent(n));for(var c=[],t=0;t<n.length;++t)c.push(n.charCodeAt(t));return c}var ie="6ba7b810-9dad-11d1-80b4-00c04fd430c8",ae="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Ir(n,c,t){function o(u,f,l,s){if(typeof u=="string"&&(u=ne(u)),typeof f=="string"&&(f=_r(f)),f.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var h=new Uint8Array(16+u.length);if(h.set(f),h.set(u,f.length),h=t(h),h[6]=h[6]&15|c,h[8]=h[8]&63|128,l){s=s||0;for(var m=0;m<16;++m)l[s+m]=h[m];return l}return rr(h)}try{o.name=n}catch{}return o.DNS=ie,o.URL=ae,o}function oe(n){if(typeof n=="string"){var c=unescape(encodeURIComponent(n));n=new Uint8Array(c.length);for(var t=0;t<c.length;++t)n[t]=c.charCodeAt(t)}return se(ue(ce(n),n.length*8))}function se(n){for(var c=[],t=n.length*32,o="0123456789abcdef",u=0;u<t;u+=8){var f=n[u>>5]>>>u%32&255,l=parseInt(o.charAt(f>>>4&15)+o.charAt(f&15),16);c.push(l)}return c}function Fr(n){return(n+64>>>9<<4)+14+1}function ue(n,c){n[c>>5]|=128<<c%32,n[Fr(c)-1]=c;for(var t=1732584193,o=-271733879,u=-1732584194,f=271733878,l=0;l<n.length;l+=16){var s=t,h=o,m=u,g=f;t=b(t,o,u,f,n[l],7,-680876936),f=b(f,t,o,u,n[l+1],12,-389564586),u=b(u,f,t,o,n[l+2],17,606105819),o=b(o,u,f,t,n[l+3],22,-1044525330),t=b(t,o,u,f,n[l+4],7,-176418897),f=b(f,t,o,u,n[l+5],12,1200080426),u=b(u,f,t,o,n[l+6],17,-1473231341),o=b(o,u,f,t,n[l+7],22,-45705983),t=b(t,o,u,f,n[l+8],7,1770035416),f=b(f,t,o,u,n[l+9],12,-1958414417),u=b(u,f,t,o,n[l+10],17,-42063),o=b(o,u,f,t,n[l+11],22,-1990404162),t=b(t,o,u,f,n[l+12],7,1804603682),f=b(f,t,o,u,n[l+13],12,-40341101),u=b(u,f,t,o,n[l+14],17,-1502002290),o=b(o,u,f,t,n[l+15],22,1236535329),t=D(t,o,u,f,n[l+1],5,-165796510),f=D(f,t,o,u,n[l+6],9,-1069501632),u=D(u,f,t,o,n[l+11],14,643717713),o=D(o,u,f,t,n[l],20,-373897302),t=D(t,o,u,f,n[l+5],5,-701558691),f=D(f,t,o,u,n[l+10],9,38016083),u=D(u,f,t,o,n[l+15],14,-660478335),o=D(o,u,f,t,n[l+4],20,-405537848),t=D(t,o,u,f,n[l+9],5,568446438),f=D(f,t,o,u,n[l+14],9,-1019803690),u=D(u,f,t,o,n[l+3],14,-187363961),o=D(o,u,f,t,n[l+8],20,1163531501),t=D(t,o,u,f,n[l+13],5,-1444681467),f=D(f,t,o,u,n[l+2],9,-51403784),u=D(u,f,t,o,n[l+7],14,1735328473),o=D(o,u,f,t,n[l+12],20,-1926607734),t=P(t,o,u,f,n[l+5],4,-378558),f=P(f,t,o,u,n[l+8],11,-2022574463),u=P(u,f,t,o,n[l+11],16,1839030562),o=P(o,u,f,t,n[l+14],23,-35309556),t=P(t,o,u,f,n[l+1],4,-1530992060),f=P(f,t,o,u,n[l+4],11,1272893353),u=P(u,f,t,o,n[l+7],16,-155497632),o=P(o,u,f,t,n[l+10],23,-1094730640),t=P(t,o,u,f,n[l+13],4,681279174),f=P(f,t,o,u,n[l],11,-358537222),u=P(u,f,t,o,n[l+3],16,-722521979),o=P(o,u,f,t,n[l+6],23,76029189),t=P(t,o,u,f,n[l+9],4,-640364487),f=P(f,t,o,u,n[l+12],11,-421815835),u=P(u,f,t,o,n[l+15],16,530742520),o=P(o,u,f,t,n[l+2],23,-995338651),t=L(t,o,u,f,n[l],6,-198630844),f=L(f,t,o,u,n[l+7],10,1126891415),u=L(u,f,t,o,n[l+14],15,-1416354905),o=L(o,u,f,t,n[l+5],21,-57434055),t=L(t,o,u,f,n[l+12],6,1700485571),f=L(f,t,o,u,n[l+3],10,-1894986606),u=L(u,f,t,o,n[l+10],15,-1051523),o=L(o,u,f,t,n[l+1],21,-2054922799),t=L(t,o,u,f,n[l+8],6,1873313359),f=L(f,t,o,u,n[l+15],10,-30611744),u=L(u,f,t,o,n[l+6],15,-1560198380),o=L(o,u,f,t,n[l+13],21,1309151649),t=L(t,o,u,f,n[l+4],6,-145523070),f=L(f,t,o,u,n[l+11],10,-1120210379),u=L(u,f,t,o,n[l+2],15,718787259),o=L(o,u,f,t,n[l+9],21,-343485551),t=K(t,s),o=K(o,h),u=K(u,m),f=K(f,g)}return[t,o,u,f]}function ce(n){if(n.length===0)return[];for(var c=n.length*8,t=new Uint32Array(Fr(c)),o=0;o<c;o+=8)t[o>>5]|=(n[o/8]&255)<<o%32;return t}function K(n,c){var t=(n&65535)+(c&65535),o=(n>>16)+(c>>16)+(t>>16);return o<<16|t&65535}function fe(n,c){return n<<c|n>>>32-c}function er(n,c,t,o,u,f){return K(fe(K(K(c,n),K(o,f)),u),t)}function b(n,c,t,o,u,f,l){return er(c&t|~c&o,n,c,u,f,l)}function D(n,c,t,o,u,f,l){return er(c&o|t&~o,n,c,u,f,l)}function P(n,c,t,o,u,f,l){return er(c^t^o,n,c,u,f,l)}function L(n,c,t,o,u,f,l){return er(t^(c|~o),n,c,u,f,l)}var le=Ir("v3",48,oe);function pe(n,c,t){n=n||{};var o=n.random||(n.rng||Er)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,c){t=t||0;for(var u=0;u<16;++u)c[t+u]=o[u];return c}return rr(o)}function he(n,c,t,o){switch(n){case 0:return c&t^~c&o;case 1:return c^t^o;case 2:return c&t^c&o^t&o;case 3:return c^t^o}}function lr(n,c){return n<<c|n>>>32-c}function ye(n){var c=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var o=unescape(encodeURIComponent(n));n=[];for(var u=0;u<o.length;++u)n.push(o.charCodeAt(u))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var f=n.length/4+2,l=Math.ceil(f/16),s=new Array(l),h=0;h<l;++h){for(var m=new Uint32Array(16),g=0;g<16;++g)m[g]=n[h*64+g*4]<<24|n[h*64+g*4+1]<<16|n[h*64+g*4+2]<<8|n[h*64+g*4+3];s[h]=m}s[l-1][14]=(n.length-1)*8/Math.pow(2,32),s[l-1][14]=Math.floor(s[l-1][14]),s[l-1][15]=(n.length-1)*8&4294967295;for(var x=0;x<l;++x){for(var _=new Uint32Array(80),d=0;d<16;++d)_[d]=s[x][d];for(var v=16;v<80;++v)_[v]=lr(_[v-3]^_[v-8]^_[v-14]^_[v-16],1);for(var A=t[0],E=t[1],S=t[2],C=t[3],I=t[4],N=0;N<80;++N){var U=Math.floor(N/20),ir=lr(A,5)+he(U,E,S,C)+I+c[U]+_[N]>>>0;I=C,C=S,S=lr(E,30)>>>0,E=A,A=ir}t[0]=t[0]+A>>>0,t[1]=t[1]+E>>>0,t[2]=t[2]+S>>>0,t[3]=t[3]+C>>>0,t[4]=t[4]+I>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var we=Ir("v5",80,ye),de="00000000-0000-0000-0000-000000000000";function me(n){if(!Q(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}var ge=Object.freeze({__proto__:null,NIL:de,parse:_r,stringify:rr,v1:te,v3:le,v4:pe,v5:we,validate:Q,version:me}),ve=H(ge),pr,Cr;function xe(){if(Cr)return pr;Cr=1;const{v4:n}=ve;return pr=n,pr}var hr,Sr;function Ee(){if(Sr)return hr;Sr=1;for(var n=[],c={},t=0;t<256;t++)n[t]=(t+256).toString(16).substr(1),c[n[t]]=t;function o(f,l,s){var h=l&&s||0,m=0;for(l=l||[],f.toLowerCase().replace(/[0-9a-f]{2}/g,function(g){m<16&&(l[h+m++]=c[g])});m<16;)l[h+m++]=0;return l}function u(f,l){var s=l||0,h=n;return h[f[s++]]+h[f[s++]]+h[f[s++]]+h[f[s++]]+"-"+h[f[s++]]+h[f[s++]]+"-"+h[f[s++]]+h[f[s++]]+"-"+h[f[s++]]+h[f[s++]]+"-"+h[f[s++]]+h[f[s++]]+h[f[s++]]+h[f[s++]]+h[f[s++]]+h[f[s++]]}return hr={parse:o,unparse:u},hr}var yr={},G={},Ur;function Ae(){if(Ur)return G;Ur=1,G.byteLength=s,G.toByteArray=m,G.fromByteArray=_;for(var n=[],c=[],t=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,f=o.length;u<f;++u)n[u]=o[u],c[o.charCodeAt(u)]=u;c[45]=62,c[95]=63;function l(d){var v=d.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var A=d.indexOf("=");A===-1&&(A=v);var E=A===v?0:4-A%4;return[A,E]}function s(d){var v=l(d),A=v[0],E=v[1];return(A+E)*3/4-E}function h(d,v,A){return(v+A)*3/4-A}function m(d){var v,A=l(d),E=A[0],S=A[1],C=new t(h(d,E,S)),I=0,N=S>0?E-4:E,U;for(U=0;U<N;U+=4)v=c[d.charCodeAt(U)]<<18|c[d.charCodeAt(U+1)]<<12|c[d.charCodeAt(U+2)]<<6|c[d.charCodeAt(U+3)],C[I++]=v>>16&255,C[I++]=v>>8&255,C[I++]=v&255;return S===2&&(v=c[d.charCodeAt(U)]<<2|c[d.charCodeAt(U+1)]>>4,C[I++]=v&255),S===1&&(v=c[d.charCodeAt(U)]<<10|c[d.charCodeAt(U+1)]<<4|c[d.charCodeAt(U+2)]>>2,C[I++]=v>>8&255,C[I++]=v&255),C}function g(d){return n[d>>18&63]+n[d>>12&63]+n[d>>6&63]+n[d&63]}function x(d,v,A){for(var E,S=[],C=v;C<A;C+=3)E=(d[C]<<16&16711680)+(d[C+1]<<8&65280)+(d[C+2]&255),S.push(g(E));return S.join("")}function _(d){for(var v,A=d.length,E=A%3,S=[],C=16383,I=0,N=A-E;I<N;I+=C)S.push(x(d,I,I+C>N?N:I+C));return E===1?(v=d[A-1],S.push(n[v>>2]+n[v<<4&63]+"==")):E===2&&(v=(d[A-2]<<8)+d[A-1],S.push(n[v>>10]+n[v>>4&63]+n[v<<2&63]+"=")),S.join("")}return G}var tr={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Br;function _e(){return Br||(Br=1,tr.read=function(n,c,t,o,u){var f,l,s=u*8-o-1,h=(1<<s)-1,m=h>>1,g=-7,x=t?u-1:0,_=t?-1:1,d=n[c+x];for(x+=_,f=d&(1<<-g)-1,d>>=-g,g+=s;g>0;f=f*256+n[c+x],x+=_,g-=8);for(l=f&(1<<-g)-1,f>>=-g,g+=o;g>0;l=l*256+n[c+x],x+=_,g-=8);if(f===0)f=1-m;else{if(f===h)return l?NaN:(d?-1:1)*(1/0);l=l+Math.pow(2,o),f=f-m}return(d?-1:1)*l*Math.pow(2,f-o)},tr.write=function(n,c,t,o,u,f){var l,s,h,m=f*8-u-1,g=(1<<m)-1,x=g>>1,_=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=o?0:f-1,v=o?1:-1,A=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(s=isNaN(c)?1:0,l=g):(l=Math.floor(Math.log(c)/Math.LN2),c*(h=Math.pow(2,-l))<1&&(l--,h*=2),l+x>=1?c+=_/h:c+=_*Math.pow(2,1-x),c*h>=2&&(l++,h/=2),l+x>=g?(s=0,l=g):l+x>=1?(s=(c*h-1)*Math.pow(2,u),l=l+x):(s=c*Math.pow(2,x-1)*Math.pow(2,u),l=0));u>=8;n[t+d]=s&255,d+=v,s/=256,u-=8);for(l=l<<u|s,m+=u;m>0;n[t+d]=l&255,d+=v,l/=256,m-=8);n[t+d-v]|=A*128}),tr}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Mr;function Tr(){return Mr||(Mr=1,function(n){var c=Ae(),t=_e(),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=s,n.SlowBuffer=C,n.INSPECT_MAX_BYTES=50;var u=2147483647;n.kMaxLength=u,s.TYPED_ARRAY_SUPPORT=f(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function f(){try{var i=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(i,r),i.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function l(i){if(i>u)throw new RangeError('The value "'+i+'" is invalid for option "size"');var r=new Uint8Array(i);return Object.setPrototypeOf(r,s.prototype),r}function s(i,r,e){if(typeof i=="number"){if(typeof r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(i)}return h(i,r,e)}s.poolSize=8192;function h(i,r,e){if(typeof i=="string")return _(i,r);if(ArrayBuffer.isView(i))return v(i);if(i==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);if(W(i,ArrayBuffer)||i&&W(i.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(W(i,SharedArrayBuffer)||i&&W(i.buffer,SharedArrayBuffer)))return A(i,r,e);if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var a=i.valueOf&&i.valueOf();if(a!=null&&a!==i)return s.from(a,r,e);var p=E(i);if(p)return p;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof i[Symbol.toPrimitive]=="function")return s.from(i[Symbol.toPrimitive]("string"),r,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i)}s.from=function(i,r,e){return h(i,r,e)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function m(i){if(typeof i!="number")throw new TypeError('"size" argument must be of type number');if(i<0)throw new RangeError('The value "'+i+'" is invalid for option "size"')}function g(i,r,e){return m(i),i<=0?l(i):r!==void 0?typeof e=="string"?l(i).fill(r,e):l(i).fill(r):l(i)}s.alloc=function(i,r,e){return g(i,r,e)};function x(i){return m(i),l(i<0?0:S(i)|0)}s.allocUnsafe=function(i){return x(i)},s.allocUnsafeSlow=function(i){return x(i)};function _(i,r){if((typeof r!="string"||r==="")&&(r="utf8"),!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var e=I(i,r)|0,a=l(e),p=a.write(i,r);return p!==e&&(a=a.slice(0,p)),a}function d(i){for(var r=i.length<0?0:S(i.length)|0,e=l(r),a=0;a<r;a+=1)e[a]=i[a]&255;return e}function v(i){if(W(i,Uint8Array)){var r=new Uint8Array(i);return A(r.buffer,r.byteOffset,r.byteLength)}return d(i)}function A(i,r,e){if(r<0||i.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(i.byteLength<r+(e||0))throw new RangeError('"length" is outside of buffer bounds');var a;return r===void 0&&e===void 0?a=new Uint8Array(i):e===void 0?a=new Uint8Array(i,r):a=new Uint8Array(i,r,e),Object.setPrototypeOf(a,s.prototype),a}function E(i){if(s.isBuffer(i)){var r=S(i.length)|0,e=l(r);return e.length===0||i.copy(e,0,0,r),e}if(i.length!==void 0)return typeof i.length!="number"||xr(i.length)?l(0):d(i);if(i.type==="Buffer"&&Array.isArray(i.data))return d(i.data)}function S(i){if(i>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return i|0}function C(i){return+i!=i&&(i=0),s.alloc(+i)}s.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==s.prototype},s.compare=function(r,e){if(W(r,Uint8Array)&&(r=s.from(r,r.offset,r.byteLength)),W(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(r)||!s.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===e)return 0;for(var a=r.length,p=e.length,y=0,w=Math.min(a,p);y<w;++y)if(r[y]!==e[y]){a=r[y],p=e[y];break}return a<p?-1:p<a?1:0},s.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(r,e){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return s.alloc(0);var a;if(e===void 0)for(e=0,a=0;a<r.length;++a)e+=r[a].length;var p=s.allocUnsafe(e),y=0;for(a=0;a<r.length;++a){var w=r[a];if(W(w,Uint8Array))y+w.length>p.length?s.from(w).copy(p,y):Uint8Array.prototype.set.call(p,w,y);else if(s.isBuffer(w))w.copy(p,y);else throw new TypeError('"list" argument must be an Array of Buffers');y+=w.length}return p};function I(i,r){if(s.isBuffer(i))return i.length;if(ArrayBuffer.isView(i)||W(i,ArrayBuffer))return i.byteLength;if(typeof i!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof i);var e=i.length,a=arguments.length>2&&arguments[2]===!0;if(!a&&e===0)return 0;for(var p=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return vr(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return zr(i).length;default:if(p)return a?-1:vr(i).length;r=(""+r).toLowerCase(),p=!0}}s.byteLength=I;function N(i,r,e){var a=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,r>>>=0,e<=r))return"";for(i||(i="utf8");;)switch(i){case"hex":return ht(this,r,e);case"utf8":case"utf-8":return Vr(this,r,e);case"ascii":return lt(this,r,e);case"latin1":case"binary":return pt(this,r,e);case"base64":return ct(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yt(this,r,e);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(i+"").toLowerCase(),a=!0}}s.prototype._isBuffer=!0;function U(i,r,e){var a=i[r];i[r]=i[e],i[e]=a}s.prototype.swap16=function(){var r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<r;e+=2)U(this,e,e+1);return this},s.prototype.swap32=function(){var r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<r;e+=4)U(this,e,e+3),U(this,e+1,e+2);return this},s.prototype.swap64=function(){var r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<r;e+=8)U(this,e,e+7),U(this,e+1,e+6),U(this,e+2,e+5),U(this,e+3,e+4);return this},s.prototype.toString=function(){var r=this.length;return r===0?"":arguments.length===0?Vr(this,0,r):N.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(r){if(!s.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:s.compare(this,r)===0},s.prototype.inspect=function(){var r="",e=n.INSPECT_MAX_BYTES;return r=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(r+=" ... "),"<Buffer "+r+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(r,e,a,p,y){if(W(r,Uint8Array)&&(r=s.from(r,r.offset,r.byteLength)),!s.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(e===void 0&&(e=0),a===void 0&&(a=r?r.length:0),p===void 0&&(p=0),y===void 0&&(y=this.length),e<0||a>r.length||p<0||y>this.length)throw new RangeError("out of range index");if(p>=y&&e>=a)return 0;if(p>=y)return-1;if(e>=a)return 1;if(e>>>=0,a>>>=0,p>>>=0,y>>>=0,this===r)return 0;for(var w=y-p,F=a-e,B=Math.min(w,F),M=this.slice(p,y),$=r.slice(e,a),T=0;T<B;++T)if(M[T]!==$[T]){w=M[T],F=$[T];break}return w<F?-1:F<w?1:0};function ir(i,r,e,a,p){if(i.length===0)return-1;if(typeof e=="string"?(a=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,xr(e)&&(e=p?0:i.length-1),e<0&&(e=i.length+e),e>=i.length){if(p)return-1;e=i.length-1}else if(e<0)if(p)e=0;else return-1;if(typeof r=="string"&&(r=s.from(r,a)),s.isBuffer(r))return r.length===0?-1:Hr(i,r,e,a,p);if(typeof r=="number")return r=r&255,typeof Uint8Array.prototype.indexOf=="function"?p?Uint8Array.prototype.indexOf.call(i,r,e):Uint8Array.prototype.lastIndexOf.call(i,r,e):Hr(i,[r],e,a,p);throw new TypeError("val must be string, number or Buffer")}function Hr(i,r,e,a,p){var y=1,w=i.length,F=r.length;if(a!==void 0&&(a=String(a).toLowerCase(),a==="ucs2"||a==="ucs-2"||a==="utf16le"||a==="utf-16le")){if(i.length<2||r.length<2)return-1;y=2,w/=2,F/=2,e/=2}function B(Zr,Qr){return y===1?Zr[Qr]:Zr.readUInt16BE(Qr*y)}var M;if(p){var $=-1;for(M=e;M<w;M++)if(B(i,M)===B(r,$===-1?0:M-$)){if($===-1&&($=M),M-$+1===F)return $*y}else $!==-1&&(M-=M-$),$=-1}else for(e+F>w&&(e=w-F),M=e;M>=0;M--){for(var T=!0,or=0;or<F;or++)if(B(i,M+or)!==B(r,or)){T=!1;break}if(T)return M}return-1}s.prototype.includes=function(r,e,a){return this.indexOf(r,e,a)!==-1},s.prototype.indexOf=function(r,e,a){return ir(this,r,e,a,!0)},s.prototype.lastIndexOf=function(r,e,a){return ir(this,r,e,a,!1)};function it(i,r,e,a){e=Number(e)||0;var p=i.length-e;a?(a=Number(a),a>p&&(a=p)):a=p;var y=r.length;a>y/2&&(a=y/2);for(var w=0;w<a;++w){var F=parseInt(r.substr(w*2,2),16);if(xr(F))return w;i[e+w]=F}return w}function at(i,r,e,a){return ar(vr(r,i.length-e),i,e,a)}function ot(i,r,e,a){return ar(mt(r),i,e,a)}function st(i,r,e,a){return ar(zr(r),i,e,a)}function ut(i,r,e,a){return ar(gt(r,i.length-e),i,e,a)}s.prototype.write=function(r,e,a,p){if(e===void 0)p="utf8",a=this.length,e=0;else if(a===void 0&&typeof e=="string")p=e,a=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(a)?(a=a>>>0,p===void 0&&(p="utf8")):(p=a,a=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var y=this.length-e;if((a===void 0||a>y)&&(a=y),r.length>0&&(a<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");p||(p="utf8");for(var w=!1;;)switch(p){case"hex":return it(this,r,e,a);case"utf8":case"utf-8":return at(this,r,e,a);case"ascii":case"latin1":case"binary":return ot(this,r,e,a);case"base64":return st(this,r,e,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ut(this,r,e,a);default:if(w)throw new TypeError("Unknown encoding: "+p);p=(""+p).toLowerCase(),w=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ct(i,r,e){return r===0&&e===i.length?c.fromByteArray(i):c.fromByteArray(i.slice(r,e))}function Vr(i,r,e){e=Math.min(i.length,e);for(var a=[],p=r;p<e;){var y=i[p],w=null,F=y>239?4:y>223?3:y>191?2:1;if(p+F<=e){var B,M,$,T;switch(F){case 1:y<128&&(w=y);break;case 2:B=i[p+1],(B&192)===128&&(T=(y&31)<<6|B&63,T>127&&(w=T));break;case 3:B=i[p+1],M=i[p+2],(B&192)===128&&(M&192)===128&&(T=(y&15)<<12|(B&63)<<6|M&63,T>2047&&(T<55296||T>57343)&&(w=T));break;case 4:B=i[p+1],M=i[p+2],$=i[p+3],(B&192)===128&&(M&192)===128&&($&192)===128&&(T=(y&15)<<18|(B&63)<<12|(M&63)<<6|$&63,T>65535&&T<1114112&&(w=T))}}w===null?(w=65533,F=1):w>65535&&(w-=65536,a.push(w>>>10&1023|55296),w=56320|w&1023),a.push(w),p+=F}return ft(a)}var Yr=4096;function ft(i){var r=i.length;if(r<=Yr)return String.fromCharCode.apply(String,i);for(var e="",a=0;a<r;)e+=String.fromCharCode.apply(String,i.slice(a,a+=Yr));return e}function lt(i,r,e){var a="";e=Math.min(i.length,e);for(var p=r;p<e;++p)a+=String.fromCharCode(i[p]&127);return a}function pt(i,r,e){var a="";e=Math.min(i.length,e);for(var p=r;p<e;++p)a+=String.fromCharCode(i[p]);return a}function ht(i,r,e){var a=i.length;(!r||r<0)&&(r=0),(!e||e<0||e>a)&&(e=a);for(var p="",y=r;y<e;++y)p+=vt[i[y]];return p}function yt(i,r,e){for(var a=i.slice(r,e),p="",y=0;y<a.length-1;y+=2)p+=String.fromCharCode(a[y]+a[y+1]*256);return p}s.prototype.slice=function(r,e){var a=this.length;r=~~r,e=e===void 0?a:~~e,r<0?(r+=a,r<0&&(r=0)):r>a&&(r=a),e<0?(e+=a,e<0&&(e=0)):e>a&&(e=a),e<r&&(e=r);var p=this.subarray(r,e);return Object.setPrototypeOf(p,s.prototype),p};function k(i,r,e){if(i%1!==0||i<0)throw new RangeError("offset is not uint");if(i+r>e)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(r,e,a){r=r>>>0,e=e>>>0,a||k(r,e,this.length);for(var p=this[r],y=1,w=0;++w<e&&(y*=256);)p+=this[r+w]*y;return p},s.prototype.readUintBE=s.prototype.readUIntBE=function(r,e,a){r=r>>>0,e=e>>>0,a||k(r,e,this.length);for(var p=this[r+--e],y=1;e>0&&(y*=256);)p+=this[r+--e]*y;return p},s.prototype.readUint8=s.prototype.readUInt8=function(r,e){return r=r>>>0,e||k(r,1,this.length),this[r]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(r,e){return r=r>>>0,e||k(r,2,this.length),this[r]|this[r+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(r,e){return r=r>>>0,e||k(r,2,this.length),this[r]<<8|this[r+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(r,e){return r=r>>>0,e||k(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(r,e){return r=r>>>0,e||k(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])},s.prototype.readIntLE=function(r,e,a){r=r>>>0,e=e>>>0,a||k(r,e,this.length);for(var p=this[r],y=1,w=0;++w<e&&(y*=256);)p+=this[r+w]*y;return y*=128,p>=y&&(p-=Math.pow(2,8*e)),p},s.prototype.readIntBE=function(r,e,a){r=r>>>0,e=e>>>0,a||k(r,e,this.length);for(var p=e,y=1,w=this[r+--p];p>0&&(y*=256);)w+=this[r+--p]*y;return y*=128,w>=y&&(w-=Math.pow(2,8*e)),w},s.prototype.readInt8=function(r,e){return r=r>>>0,e||k(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]},s.prototype.readInt16LE=function(r,e){r=r>>>0,e||k(r,2,this.length);var a=this[r]|this[r+1]<<8;return a&32768?a|4294901760:a},s.prototype.readInt16BE=function(r,e){r=r>>>0,e||k(r,2,this.length);var a=this[r+1]|this[r]<<8;return a&32768?a|4294901760:a},s.prototype.readInt32LE=function(r,e){return r=r>>>0,e||k(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},s.prototype.readInt32BE=function(r,e){return r=r>>>0,e||k(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},s.prototype.readFloatLE=function(r,e){return r=r>>>0,e||k(r,4,this.length),t.read(this,r,!0,23,4)},s.prototype.readFloatBE=function(r,e){return r=r>>>0,e||k(r,4,this.length),t.read(this,r,!1,23,4)},s.prototype.readDoubleLE=function(r,e){return r=r>>>0,e||k(r,8,this.length),t.read(this,r,!0,52,8)},s.prototype.readDoubleBE=function(r,e){return r=r>>>0,e||k(r,8,this.length),t.read(this,r,!1,52,8)};function q(i,r,e,a,p,y){if(!s.isBuffer(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>p||r<y)throw new RangeError('"value" argument is out of bounds');if(e+a>i.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(r,e,a,p){if(r=+r,e=e>>>0,a=a>>>0,!p){var y=Math.pow(2,8*a)-1;q(this,r,e,a,y,0)}var w=1,F=0;for(this[e]=r&255;++F<a&&(w*=256);)this[e+F]=r/w&255;return e+a},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(r,e,a,p){if(r=+r,e=e>>>0,a=a>>>0,!p){var y=Math.pow(2,8*a)-1;q(this,r,e,a,y,0)}var w=a-1,F=1;for(this[e+w]=r&255;--w>=0&&(F*=256);)this[e+w]=r/F&255;return e+a},s.prototype.writeUint8=s.prototype.writeUInt8=function(r,e,a){return r=+r,e=e>>>0,a||q(this,r,e,1,255,0),this[e]=r&255,e+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(r,e,a){return r=+r,e=e>>>0,a||q(this,r,e,2,65535,0),this[e]=r&255,this[e+1]=r>>>8,e+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(r,e,a){return r=+r,e=e>>>0,a||q(this,r,e,2,65535,0),this[e]=r>>>8,this[e+1]=r&255,e+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(r,e,a){return r=+r,e=e>>>0,a||q(this,r,e,4,4294967295,0),this[e+3]=r>>>24,this[e+2]=r>>>16,this[e+1]=r>>>8,this[e]=r&255,e+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(r,e,a){return r=+r,e=e>>>0,a||q(this,r,e,4,4294967295,0),this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=r&255,e+4},s.prototype.writeIntLE=function(r,e,a,p){if(r=+r,e=e>>>0,!p){var y=Math.pow(2,8*a-1);q(this,r,e,a,y-1,-y)}var w=0,F=1,B=0;for(this[e]=r&255;++w<a&&(F*=256);)r<0&&B===0&&this[e+w-1]!==0&&(B=1),this[e+w]=(r/F>>0)-B&255;return e+a},s.prototype.writeIntBE=function(r,e,a,p){if(r=+r,e=e>>>0,!p){var y=Math.pow(2,8*a-1);q(this,r,e,a,y-1,-y)}var w=a-1,F=1,B=0;for(this[e+w]=r&255;--w>=0&&(F*=256);)r<0&&B===0&&this[e+w+1]!==0&&(B=1),this[e+w]=(r/F>>0)-B&255;return e+a},s.prototype.writeInt8=function(r,e,a){return r=+r,e=e>>>0,a||q(this,r,e,1,127,-128),r<0&&(r=255+r+1),this[e]=r&255,e+1},s.prototype.writeInt16LE=function(r,e,a){return r=+r,e=e>>>0,a||q(this,r,e,2,32767,-32768),this[e]=r&255,this[e+1]=r>>>8,e+2},s.prototype.writeInt16BE=function(r,e,a){return r=+r,e=e>>>0,a||q(this,r,e,2,32767,-32768),this[e]=r>>>8,this[e+1]=r&255,e+2},s.prototype.writeInt32LE=function(r,e,a){return r=+r,e=e>>>0,a||q(this,r,e,4,2147483647,-2147483648),this[e]=r&255,this[e+1]=r>>>8,this[e+2]=r>>>16,this[e+3]=r>>>24,e+4},s.prototype.writeInt32BE=function(r,e,a){return r=+r,e=e>>>0,a||q(this,r,e,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=r&255,e+4};function Kr(i,r,e,a,p,y){if(e+a>i.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function Xr(i,r,e,a,p){return r=+r,e=e>>>0,p||Kr(i,r,e,4),t.write(i,r,e,a,23,4),e+4}s.prototype.writeFloatLE=function(r,e,a){return Xr(this,r,e,!0,a)},s.prototype.writeFloatBE=function(r,e,a){return Xr(this,r,e,!1,a)};function Gr(i,r,e,a,p){return r=+r,e=e>>>0,p||Kr(i,r,e,8),t.write(i,r,e,a,52,8),e+8}s.prototype.writeDoubleLE=function(r,e,a){return Gr(this,r,e,!0,a)},s.prototype.writeDoubleBE=function(r,e,a){return Gr(this,r,e,!1,a)},s.prototype.copy=function(r,e,a,p){if(!s.isBuffer(r))throw new TypeError("argument should be a Buffer");if(a||(a=0),!p&&p!==0&&(p=this.length),e>=r.length&&(e=r.length),e||(e=0),p>0&&p<a&&(p=a),p===a||r.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("sourceEnd out of bounds");p>this.length&&(p=this.length),r.length-e<p-a&&(p=r.length-e+a);var y=p-a;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,a,p):Uint8Array.prototype.set.call(r,this.subarray(a,p),e),y},s.prototype.fill=function(r,e,a,p){if(typeof r=="string"){if(typeof e=="string"?(p=e,e=0,a=this.length):typeof a=="string"&&(p=a,a=this.length),p!==void 0&&typeof p!="string")throw new TypeError("encoding must be a string");if(typeof p=="string"&&!s.isEncoding(p))throw new TypeError("Unknown encoding: "+p);if(r.length===1){var y=r.charCodeAt(0);(p==="utf8"&&y<128||p==="latin1")&&(r=y)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(e<0||this.length<e||this.length<a)throw new RangeError("Out of range index");if(a<=e)return this;e=e>>>0,a=a===void 0?this.length:a>>>0,r||(r=0);var w;if(typeof r=="number")for(w=e;w<a;++w)this[w]=r;else{var F=s.isBuffer(r)?r:s.from(r,p),B=F.length;if(B===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(w=0;w<a-e;++w)this[w+e]=F[w%B]}return this};var wt=/[^+/0-9A-Za-z-_]/g;function dt(i){if(i=i.split("=")[0],i=i.trim().replace(wt,""),i.length<2)return"";for(;i.length%4!==0;)i=i+"=";return i}function vr(i,r){r=r||1/0;for(var e,a=i.length,p=null,y=[],w=0;w<a;++w){if(e=i.charCodeAt(w),e>55295&&e<57344){if(!p){if(e>56319){(r-=3)>-1&&y.push(239,191,189);continue}else if(w+1===a){(r-=3)>-1&&y.push(239,191,189);continue}p=e;continue}if(e<56320){(r-=3)>-1&&y.push(239,191,189),p=e;continue}e=(p-55296<<10|e-56320)+65536}else p&&(r-=3)>-1&&y.push(239,191,189);if(p=null,e<128){if((r-=1)<0)break;y.push(e)}else if(e<2048){if((r-=2)<0)break;y.push(e>>6|192,e&63|128)}else if(e<65536){if((r-=3)<0)break;y.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((r-=4)<0)break;y.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return y}function mt(i){for(var r=[],e=0;e<i.length;++e)r.push(i.charCodeAt(e)&255);return r}function gt(i,r){for(var e,a,p,y=[],w=0;w<i.length&&!((r-=2)<0);++w)e=i.charCodeAt(w),a=e>>8,p=e%256,y.push(p),y.push(a);return y}function zr(i){return c.toByteArray(dt(i))}function ar(i,r,e,a){for(var p=0;p<a&&!(p+e>=r.length||p>=i.length);++p)r[p+e]=i[p];return p}function W(i,r){return i instanceof r||i!=null&&i.constructor!=null&&i.constructor.name!=null&&i.constructor.name===r.name}function xr(i){return i!==i}var vt=function(){for(var i="0123456789abcdef",r=new Array(256),e=0;e<16;++e)for(var a=e*16,p=0;p<16;++p)r[a+p]=i[e]+i[p];return r}()}(yr)),yr}var kr;function Ie(){if(kr)return V.exports;kr=1;const n=xe(),c=Ee(),t=o();function o(){const h=Tr();return h&&h.Buffer?h.Buffer:Tr().Buffer}const u=t.from("==","base64");function f(h){let m=!1,g=!1,x=Math.pow(2,31)-1;typeof h=="boolean"?m=h:(h=h||{},x=h.maxInt||Math.pow(2,31)-1,g=!!h.urlSafe,m=!!h.fixedLength),v.uuid=n(),v.decode=s;let _=l(v.uuid,g),d=Math.floor(h.startFrom||0);if(isNaN(x))throw new Error(`maxInt must be a number. recieved ${h.maxInt}`);if(isNaN(d)||!(x>d&&d>=0))throw new Error([`when passed, opts.startFrom must be a number between 0 and ${x}.`,"Only the integer part matters.",`- got: ${h.startFrom}`].join(`
`));return v;function v(){let A;return d===x&&(v.uuid=n(),_=l(v.uuid,g),d=0),m?A=_+`0000000000${d}`.slice(-10):A=_+d,d=d+1|0,A}}function l(h,m){const g=t.concat([t.from(c.parse(h)),u]).toString("base64");return m?g.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"-"):g.replace(/=+$/,"/")}function s(h,m){if(m=m||{},!!m.urlSafe&&(h=h.replace(/-([^-]*)$/,"/$1").replace(/-/g,"+").replace(/_/g,"/")),h.length<22)return null;const x=h.lastIndexOf("/");if(x===-1)return null;const _=h.substring(0,x),d=Number(h.substring(x+1));return!_||isNaN(d)?null:{uuid:c.unparse(t.from(_+"==","base64")),count:d}}return V.exports=f,V.exports.decode=s,V.exports}var Fe=Ie(),Rr=Y(Fe),wr={exports:{}},br;function Ce(){return br||(br=1,function(n){var c=Object.prototype.hasOwnProperty,t="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(t=!1));function u(h,m,g){this.fn=h,this.context=m,this.once=g||!1}function f(h,m,g,x,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var d=new u(g,x||h,_),v=t?t+m:m;return h._events[v]?h._events[v].fn?h._events[v]=[h._events[v],d]:h._events[v].push(d):(h._events[v]=d,h._eventsCount++),h}function l(h,m){--h._eventsCount===0?h._events=new o:delete h._events[m]}function s(){this._events=new o,this._eventsCount=0}s.prototype.eventNames=function(){var m=[],g,x;if(this._eventsCount===0)return m;for(x in g=this._events)c.call(g,x)&&m.push(t?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},s.prototype.listeners=function(m){var g=t?t+m:m,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var _=0,d=x.length,v=new Array(d);_<d;_++)v[_]=x[_].fn;return v},s.prototype.listenerCount=function(m){var g=t?t+m:m,x=this._events[g];return x?x.fn?1:x.length:0},s.prototype.emit=function(m,g,x,_,d,v){var A=t?t+m:m;if(!this._events[A])return!1;var E=this._events[A],S=arguments.length,C,I;if(E.fn){switch(E.once&&this.removeListener(m,E.fn,void 0,!0),S){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,g),!0;case 3:return E.fn.call(E.context,g,x),!0;case 4:return E.fn.call(E.context,g,x,_),!0;case 5:return E.fn.call(E.context,g,x,_,d),!0;case 6:return E.fn.call(E.context,g,x,_,d,v),!0}for(I=1,C=new Array(S-1);I<S;I++)C[I-1]=arguments[I];E.fn.apply(E.context,C)}else{var N=E.length,U;for(I=0;I<N;I++)switch(E[I].once&&this.removeListener(m,E[I].fn,void 0,!0),S){case 1:E[I].fn.call(E[I].context);break;case 2:E[I].fn.call(E[I].context,g);break;case 3:E[I].fn.call(E[I].context,g,x);break;case 4:E[I].fn.call(E[I].context,g,x,_);break;default:if(!C)for(U=1,C=new Array(S-1);U<S;U++)C[U-1]=arguments[U];E[I].fn.apply(E[I].context,C)}}return!0},s.prototype.on=function(m,g,x){return f(this,m,g,x,!1)},s.prototype.once=function(m,g,x){return f(this,m,g,x,!0)},s.prototype.removeListener=function(m,g,x,_){var d=t?t+m:m;if(!this._events[d])return this;if(!g)return l(this,d),this;var v=this._events[d];if(v.fn)v.fn===g&&(!_||v.once)&&(!x||v.context===x)&&l(this,d);else{for(var A=0,E=[],S=v.length;A<S;A++)(v[A].fn!==g||_&&!v[A].once||x&&v[A].context!==x)&&E.push(v[A]);E.length?this._events[d]=E.length===1?E[0]:E:l(this,d)}return this},s.prototype.removeAllListeners=function(m){var g;return m?(g=t?t+m:m,this._events[g]&&l(this,g)):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=t,s.EventEmitter=s,n.exports=s}(wr)),wr.exports}var Se=Ce(),Ue=Y(Se);const J={INIT:"init",API_CALL:"api_call",READY:"ready",API_RESPONSE:"api_response",ERROR:"error",DISPOSED:"disposed"};class Be extends Ue{constructor(){super(...arguments);z(this,"id",Rr());z(this,"ready",!1);z(this,"worker",null);z(this,"pendingMessages",new Map)}async init(){if(this.ready!==!0)return this.ready instanceof Promise?this.ready:(this.worker=new Worker(self.location.href,{type:"module"}),this.worker.onmessage=t=>{this._handleWorkerMessage(t.data)},this.worker.onerror=t=>{console.error("[WASM] Web worker error:",t),this._rejectPendingMessages(t)},this.ready=new Promise(async(t,o)=>{try{await this._sendMessage(J.INIT),t(!0)}catch(u){console.error("[WASM] Failed to initialize:",u),this.ready=!1,o(u)}}),this.ready)}async _sendMessage(t,o={}){if(!this.worker)throw new Error("Worker not initialized");const u=this.id();return new Promise((f,l)=>{this.pendingMessages.set(u,{resolve:f,reject:l}),this.worker.postMessage({type:t,payload:o,id:u})})}_handleWorkerMessage({type:t,payload:o,id:u}){const f=this.pendingMessages.get(u);if(!f){console.warn("[WASM] Received response for unknown message ID:",u);return}this.pendingMessages.delete(u);const{resolve:l,reject:s}=f;switch(t){case J.READY:this.emit(J.READY),l();break;case J.API_RESPONSE:l(o);break;case J.ERROR:s(new Error(o.message));break;default:console.warn("[WASM] Unknown message type:",t),s(new Error(`Unknown message type: ${t}`))}}_rejectPendingMessages(t){for(const{reject:o}of this.pendingMessages.values())o(t);this.pendingMessages.clear()}async _apiCall(t,...o){return this.ready||await this.init(),await this._sendMessage(J.API_CALL,{method:t,args:o})}async getAllEntityClasses(t){return this._apiCall("getAllEntityClasses",t)}async getAllDataTypes(t){return this._apiCall("getAllDataTypes",t)}async getPredefinedTypes(t,o){return this._apiCall("getPredefinedTypes",t,o)}async getEntityAttributes(t,o){return this._apiCall("getEntityAttributes",t,o)}async getApplicablePsets(t,o,u=""){return this._apiCall("getApplicablePsets",t,o,u)}async getMaterialCategories(){return this._apiCall("getMaterialCategories")}async getStandardClassificationSystems(){return this._apiCall("getStandardClassificationSystems")}async loadIfc(t){return this._apiCall("loadIfc",t)}async unloadIfc(t){return this._apiCall("unloadIfc",t)}async auditIfc(t,o){const u=o instanceof ArrayBuffer?new Uint8Array(o):o;return this._apiCall("auditIfc",t,Array.from(u))}async createIDS(){return this._apiCall("createIDS")}async openIDS(t,o=!1){return this._apiCall("openIDS",t,o)}async createSpecification(t={}){return this._apiCall("createSpecification",t)}async createEntityFacet(t,o={}){return this._apiCall("createEntityFacet",t,o)}async createAttributeFacet(t,o={}){return this._apiCall("createAttributeFacet",t,o)}async createPropertyFacet(t,o={}){return this._apiCall("createPropertyFacet",t,o)}async createMaterialFacet(t,o={}){return this._apiCall("createMaterialFacet",t,o)}async createClassificationFacet(t,o={}){return this._apiCall("createClassificationFacet",t,o)}async createPartOfFacet(t,o={}){return this._apiCall("createPartOfFacet",t,o)}async validateIDS(t){return await this._apiCall("validateIDS",t)}async exportIDS(t){return this._apiCall("exportIDS",t)}async _cleanupWorker(){return this._apiCall("internal.cleanup",{})}async dispose(){this.worker&&(await this._cleanupWorker(),this.worker.terminate(),this.worker=null),this.ready=!1,this._rejectPendingMessages(new Error("WASM module disposed")),this.emit(J.DISPOSED)}}const Me=new Be,{init:At,getAllEntityClasses:_t,getAllDataTypes:It,getPredefinedTypes:Ft,getEntityAttributes:Ct,getApplicablePsets:St,getMaterialCategories:Ut,getStandardClassificationSystems:Bt,loadIfc:Mt,unloadIfc:Tt,auditIfc:kt,createIDS:Rt,openIDS:bt,createSpecification:Dt,createEntityFacet:Pt,createAttributeFacet:Lt,createPropertyFacet:$t,createMaterialFacet:Ot,createClassificationFacet:Nt,createPartOfFacet:qt,validateIDS:jt,exportIDS:Jt,dispose:Wt}=Me;var dr={wasm:{wheel_url:"/worker/bin/ifcopenshell-0.8.3+bb329af-cp313-cp313-emscripten_4_0_9_wasm32.whl",odfpy_url:"/worker/bin/odfpy-1.4.2-py2.py3-none-any.whl",api_py_url:"/worker/api.py"}};let j=null,mr,Dr,Pr,Lr,$r,Or,Nr,qr;async function Te(n){j=n,await j.loadPackagesFromImports(`
        import ifctester.ids
        import ifctester.facet
    `),mr=j.pyimport("ifctester.ids").Ids,Dr=j.pyimport("ifctester.ids").Specification,Pr=j.pyimport("ifctester.facet").Entity,Lr=j.pyimport("ifctester.facet").Attribute,$r=j.pyimport("ifctester.facet").Property,Or=j.pyimport("ifctester.facet").Material,Nr=j.pyimport("ifctester.facet").Classification,qr=j.pyimport("ifctester.facet").PartOf}function jr(n){return mr().parse(j.toPy(n))}function ke(){return mr().asdict().toJs({dict_converter:Object.fromEntries})}function Re(n,c=!1){const t=j.pyimport("api").ids_from_xml_string;return t(n,c).asdict().toJs({dict_converter:Object.fromEntries})}function be(n){const c=jr(n),t=`temp_${Date.now()}.xml`,o=c.to_xml(t);return j.runPython(`
        import os
        if os.path.exists("${t}"):
            os.remove("${t}")
    `),o}function De(n){return jr(n).to_string()}function Pe({name:n="Unnamed",ifcVersion:c=["IFC2X3","IFC4"],identifier:t=null,description:o=null,instructions:u=null,usage:f="required"}){const l=Dr.callKwargs({name:n,ifcVersion:c,identifier:t,description:o,instructions:u});return l.set_usage(f),l.asdict().toJs({dict_converter:Object.fromEntries})}function Le(n,{name:c="IFCWALL",predefinedType:t=null,instructions:o=null}){return Pr.callKwargs({name:c,predefinedType:t,instructions:o}).asdict(n).toJs({dict_converter:Object.fromEntries})}function $e(n,{name:c="Name",value:t=null,cardinality:o="required",instructions:u=null}){return Lr.callKwargs({name:c,value:t,cardinality:o,instructions:u}).asdict(n).toJs({dict_converter:Object.fromEntries})}function Oe(n,{value:c=null,system:t=null,uri:o=null,cardinality:u="required",instructions:f=null}){return Nr.callKwargs({value:c,system:t,uri:o,cardinality:u,instructions:f}).asdict(n).toJs({dict_converter:Object.fromEntries})}function Ne(n,{name:c="IFCWALL",predefinedType:t=null,relation:o=null,cardinality:u="required",instructions:f=null}){return qr.callKwargs({name:c,predefinedType:t,relation:o,cardinality:u,instructions:f}).asdict(n).toJs({dict_converter:Object.fromEntries})}function qe(n,{propertySet:c="Property_Set",baseName:t="propertyName",value:o=null,dataType:u=null,uri:f=null,cardinality:l="required",instructions:s=null}){return $r.callKwargs({propertySet:c,baseName:t,value:o,dataType:u,uri:f,cardinality:l,instructions:s}).asdict(n).toJs({dict_converter:Object.fromEntries})}function je(n,{value:c=null,uri:t=null,cardinality:o="required",instructions:u=null}){return Or.callKwargs({value:c,uri:t,cardinality:o,instructions:u}).asdict(n).toJs({dict_converter:Object.fromEntries})}const Jr={createIDS:ke,openIDS:Re,validateIDS:be,exportIDS:De,createSpecification:Pe,createEntityFacet:Le,createAttributeFacet:$e,createClassificationFacet:Oe,createPartOfFacet:Ne,createPropertyFacet:qe,createMaterialFacet:je};let O=null,Je=Rr(),gr=new Map;async function We(n){O=n,await O.runPythonAsync(`
        from pyodide.http import pyfetch
        response = await pyfetch("${dr.wasm.api_py_url}")
        with open("api.py", "wb") as f:
            f.write(await response.bytes())
    `)}async function He(n,c){return(await O.runPythonAsync(`
        from api import get_predefined_types_for_entity
        predef_types = get_predefined_types_for_entity("${n}", "${c}")
        predef_types
    `)).toJs({dict_converter:Object.fromEntries})}async function Ve(n){return(await O.runPythonAsync(`
        from api import get_all_entity_classes
        entities = get_all_entity_classes("${n}")
        entities
    `)).toJs({dict_converter:Object.fromEntries})}async function Ye(n){return(await O.runPythonAsync(`
        from api import get_all_data_types
        data_types = get_all_data_types("${n}")
        data_types
    `)).toJs({dict_converter:Object.fromEntries})}async function Ke(n,c){return(await O.runPythonAsync(`
        from api import get_entity_attributes
        attrs = get_entity_attributes("${n}", "${c}")
        attrs
    `)).toJs({dict_converter:Object.fromEntries})}async function Xe(n,c,t=""){return(await O.runPythonAsync(`
        from api import get_applicable_psets
        psets = get_applicable_psets("${n}", "${c}", "${t}")
        psets
    `)).toJs({dict_converter:Object.fromEntries})}async function Ge(){return(await O.runPythonAsync(`
        from api import get_material_categories
        materials = get_material_categories()
        materials
    `)).toJs({dict_converter:Object.fromEntries})}async function ze(){return(await O.runPythonAsync(`
        from api import get_standard_classification_systems
        systems = get_standard_classification_systems()
        systems
    `)).toJs({dict_converter:Object.fromEntries})}async function Ze(n){const c=Je(),t=`/tmp/${encodeURIComponent(c)}.ifc`;O.FS.writeFile(t,new Uint8Array(n));const o=await O.runPythonAsync(`
        import ifcopenshell

        ifc = ifcopenshell.open("${t}")
        ifc
    `);return gr.set(c,o),c}async function Qe(n){const c=`/tmp/${encodeURIComponent(n)}.ifc`;O.FS.unlink(c),gr.delete(n)}async function rt(n,c){const t=O.pyimport("ifctester.reporter"),o=O.pyimport("api"),u=new TextDecoder().decode(new Uint8Array(c)),f=o.ids_from_xml_string(u,!0),l=gr.get(n);f.validate(l);let s=t.Json(f);s.report();const h=s.to_string();let m=t.Html(f);m.report();const g=m.to_string();return{json:JSON.parse(h),html:g}}const Wr={getPredefinedTypes:He,getAllEntityClasses:Ve,getAllDataTypes:Ye,getEntityAttributes:Ke,getApplicablePsets:Xe,getMaterialCategories:Ge,getStandardClassificationSystems:ze,loadIfc:Ze,unloadIfc:Qe,auditIfc:rt};let X=null,nr=!1;self.addEventListener("message",async n=>{console.log("[worker] Received message:",n.data);const{type:c,payload:t,id:o}=n.data;try{switch(c){case J.INIT:await et(),self.postMessage({type:J.READY,payload:{success:!0},id:o});break;case J.API_CALL:if(!nr)throw new Error("[worker] Pyodide not initialized");const u=await nt(t);self.postMessage({type:J.API_RESPONSE,payload:u,id:o});break;default:throw new Error(`[worker] Unknown message type: ${c}`)}}catch(u){self.postMessage({type:J.ERROR,payload:{message:u.message,stack:u.stack},id:o})}});async function et(){if(nr)return;const n=new URL("/pyodide/pyodide.mjs",self.location.href),{loadPyodide:c}=await import(n.href);X=await c({convertNullToNone:!0}),await X.loadPackage("micropip"),await X.loadPackage("numpy");const t=X.pyimport("micropip");await t.install(dr.wasm.wheel_url),await t.install(dr.wasm.odfpy_url),await X.loadPackage("shapely"),await t.install("ifctester"),await We(X),await Te(X),console.log("[worker] Environment initialized"),nr=!0}async function tt(){nr=!1,X=null,console.log("[worker] Closed environment")}async function nt({method:n,args:c=[]}){if(n==="internal.cleanup")return await tt(),!0;if(n in Wr)return await Wr[n](...c);if(n in Jr)return await Jr[n](...c);throw new Error(`[worker] Unknown API method: ${n}`)}})();
